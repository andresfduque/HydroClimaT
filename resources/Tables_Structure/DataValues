Table: DataValues

The DataValues table contains the actual data values.

CREATE TABLE DataValues (
	ValueID serial unique,
	DataValue real not null,
	ValueAccuracy real default NULL,
	LocalDateTime timestamp not null,
	UTCOffset real not null,
	DateTimeUTC real not null,
	SiteID integer not null references Sites(SiteID),
	VariableID integer not null references Variables(VariableID),
	OffsetValue real default NULL,
	OffsetTypeID integer default NULL references OffsetTypes(OffsetTypeID),
	CensorCode varchar(50) not null default 'nc',
	QualifierID integer default NULL,
	MethodID integer not null default 0,
	SourceID integer not null references Sources(SourceID),
	SampleID integer references Samples(SampleID),
	DerivedFromID integer default NULL,
	QualityControlLevelID integer not null default -9999,
	PRIMARY KEY (ValueID)
	);

The following rules and best practices should be used in populating this table:
	1. ValueID is the primary key, is mandatory, and cannot be NULL. This field should be
	implemented as an autonumber/identity field. When data values are added to this table, a
	unique integer ValueID should be assigned to each data value by the database software
	such that the primary key constraint is not violated.
	2. Each record in this table must be unique. This is enforced by a unique constraint across
	all of the fields in this table (excluding ValueID) so that duplicate records are avoided.
	3. The LocalDateTime, UTCOffset, and DateTimeUTC must all be populated. Care must
	be taken to ensure that the correct UTCOffset is used, especially in areas that observe
	daylight saving time. If LocalDateTime and DateTimeUTC are given, the UTCOffset
	can be calculated as the difference between the two dates. If LocalDateTime and
	UTCOffset are given, DateTimeUTC can be calculated.
	4. SiteID must correspond to a valid SiteID from the Sites table. When adding data for a
	new site to the ODM, the Sites table should be populated prior to adding data values to
	the DataValues table.
	5. VariableID must correspond to a valid VariableID from the Variables table. When
	adding data for a new variable to the ODM, the Variables table should be populated prior
	to adding data values for the new variable to the DataValues table.
	6. OffsetValue and OffsetTypeID are optional because not all data values have an offset.
	Where no offset is used, both of these fields should be set to NULL indicating that the
	data values do not have an offset. Where an OffsetValue is specified, an OffsetTypeID
	must also be specified and it must refer to a valid OffsetTypeID in the OffsetTypes table.
	The OffsetTypes table should be populated prior to adding data values with a particular
	OffsetTypeID to the DataValues table.
	7. CensorCode is mandatory and cannot be NULL. A default value of “nc” is used for this
	field. Only Terms from the CensorCodeCV table should be used to populate this field.
	8. The QualifierID field is optional because not all data values have qualifiers. Where no
	qualifier applies, this field should be set to NULL. When a QualifierID is specified in
	this field it must refer to a valid QualifierID in the Qualifiers table. The Qualifiers table
	should be populated prior to adding data values with a particular QualifierID to the
	DataValues Table.
	9. MethodID must correspond to a valid MethodID from the Methods table and cannot be
	NULL. A default value of 0 is used in the case where no method is specified or the
	method used to create the observation is unknown. The Methods table should be
	populated prior to adding data values with a particular MethodID to the DataValues table.
	10. SourceID must correspond to a valid SourceID from the Sources table and cannot be
	NULL. The Sources table should be populated prior to adding data values with a
	particular SourceID to the DataValues table.
	11. SampleID is optional and should only be populated if the data value was generated from
	a physical sample that was sent to a laboratory for analysis. The SampleID must
	correspond to a valid SampleID in the Samples table, and the Samples table should be
	populated prior to adding data values with a particular SampleID to the DataValues table.
	12. DerivedFromID is optional and should only be populated if the data value was derived
	from other data values that are also stored in the ODM database.
	13. QualityControlLevelID is mandatory, cannot be NULL, and must correspond to a valid
	QualityControlLevelID in the QualityControlLevels table. A default value of -9999 is
	used for this field in the event that the QualityControlLevelID is unknown. The
	QualityControlLevels table should be populated prior to adding data values with a
	particular QualityControlLevelID to the DataValues table.
